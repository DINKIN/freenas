// Main Viewer Rules
.viewer {
  .flex-display(flex);
  .flex-flow(column wrap);
  .flex(1);
  .align-content(flex-start);

  height      : inherit;
  margin-top  : -50px;
  padding-top : 50px;
  overflow    : hidden;

  // Prototype Disclosure Triangle Classes
  .disclosure-open,
  .disclosure-closed {
    .disclosure-toggle {
      cursor: pointer;
      &:hover {
        opacity: 0.9;
      }
    }
  }

  @disclosure-triangle-base   : 0.4em;
  @disclosure-triangle-height : ( @disclosure-triangle-base / 2 );

  .disclosure-toggle {
    position            : relative;
    cursor              : default;
    padding-left        : 2em;

    // The disclosure triangle is an isocoles right triangle with a base defined
    // by @disclosure-triangle-base, and a height of half that value.
    &:before {
      content  : "";
      width    : 0;
      height   : 0;
      position : absolute;
      top      : 50%;
      left     : 0.75em;
    }
  }
  .disclosure-open {
    .disclosure-toggle:before {
      border-left  : @disclosure-triangle-base solid transparent;
      border-right : @disclosure-triangle-base solid transparent;
      border-top   : @disclosure-triangle-base solid;
      margin-top   : ( -@disclosure-triangle-height );
    }
  }
  .disclosure-closed {
    .disclosure-toggle:before {
      border-top    : @disclosure-triangle-base solid transparent;
      border-bottom : @disclosure-triangle-base solid transparent;
      border-left   : @disclosure-triangle-base solid;
      margin-top    : ( -@disclosure-triangle-base );
      margin-left   : ( @disclosure-triangle-height );
    }
    .disclosure-target { .hidden(); }
  }
}

// Navigation
.viewer-nav {
  width  : 100%;
  height : 50px;
}


// Detail Viewer
@user-icon-detail-width: 40px;

.viewer-detail {
  .flex(1);
  .flex-display(flex);
  .flex-flow(row nowrap);
  .align-content(flex-start);
  width  : 100%;

  mark {
    background-color : @brand-primary;
    padding          : 0;
    border-radius    : 2px;
    color            : white;
  }

  .viewer-detail-nav-item-text {
    width          : 100%;
    display        : inline-block;
    padding        : 0 10px 0 50px;
    overflow       : hidden;
    vertical-align : top;
    white-space    : nowrap;
    text-overflow  : ellipsis;
  }

  .viewer-detail-nav-group {
    text-transform : uppercase;
    color          : @gray-light;
    margin         : 16px 0 8px;
  }

  .viewer-detail-nav {
    .flex(1 0 150px);
    overflow-y: auto;
  }

  .nav-pills {
    .user-icon {
      height        : @user-icon-detail-width;
      width         : @user-icon-detail-width;
      margin-right  : -@user-icon-detail-width;
    }
    .primary-text   { color : @gray-dark; }
    .secondary-text { color : @gray-light; }
      .primary-text
    , .secondary-text {
      display       : block;
      overflow      : hidden;
      white-space   : nowrap;
      text-overflow : ellipsis;
    }
    .active {
        .primary-text
      , .secondary-text {
        color : white;
      }
    }
    &> li > a {
      color         : @gray-dark;
      border-radius : 0;
      &.active {
        background-color : @brand-info;
        &:hover {
          background-color : lighten(@brand-info, 5%)
        }
      }
    }
  }
  .well {
    padding : 0;
    margin  : 0;
  }

  .viewer-item-info {
    .flex(10);
  }
}


// Icon Viewer
.viewer-icon {
  .flex(1);
  width      : 100%;
  overflow-y : auto;

  .viewer-icon-section {
    .flex(1 1 100px);
    .flex-display(flex);
    .flex-flow(row wrap);
    .align-content(flex-start);

    margin: 0 20px 25px;

    &> h4 {
      .flex(0 0 100%);
      text-transform: uppercase;
    }
    &> hr {
      .flex(0 0 100%);
      margin: 0 0 10px;
    }
  }

  .viewer-icon-item {
    .flex(0 1 100px);
    text-align: center;
    margin: 10px;

    .user-icon {
      height : 50px;
      width  : 50px;
    }
  }
  .viewer-icon-item-primary {
    font-weight: bold
  }
  .viewer-icon-item-secondary {

  }
}


// Table Viewer
.viewer-table {
  .flex(1);
  width      : 100%;
  overflow-y : auto;
}

.user-icon {
  height        : 100px;
  width         : 100px;
  display       : inline-block;
  border-radius : 50%;
  overflow      : hidden;

  img {
    height : 100%;
    width  : 100%;
  }

  .user-initials {
    display        : table-cell;
    height         : inherit;
    width          : inherit;
    vertical-align : middle;
    color          : white;
    font-size      : 3em;
    text-align     : center;
    font-weight    : 100;
  }
}